[2025-06-11T19:32:17.711Z] [LOG] Console logging initialized. Log file: C:\Users\PC\Desktop\DiscordBOT\Discord-BOT\logs\console-2025-06-11-22-32-17.txt
[2025-06-11T19:32:17.813Z] [LOG] [DASHBOARD] Successfully loaded database and client utilities
[2025-06-11T19:32:17.845Z] [LOG] [API] Using port 3001 from environment variables or default
[2025-06-11T19:32:17.845Z] [LOG] [INFO][API] API server connected to SQLite database
[2025-06-11T19:32:17.846Z] [LOG] Registering auth router at /auth
[2025-06-11T19:32:17.847Z] [LOG] Registering admin panel router at /api/admin
[2025-06-11T19:32:17.847Z] [LOG] Registering warnings router at /api/warnings
[2025-06-11T19:32:17.847Z] [LOG] Registering tickets router at /api/tickets
[2025-06-11T19:32:17.847Z] [LOG] Registering servers router at /api/servers
[2025-06-11T19:32:17.848Z] [LOG] Registering moderation cases router at /api/moderation-cases
[2025-06-11T19:32:17.850Z] [LOG] Registering dashboard router at /api/dashboard
[2025-06-11T19:32:17.878Z] [LOG] [INFO][Database] Connected to SQLite database successfully
[2025-06-11T19:32:17.879Z] [LOG] ‚úÖ Loaded: setup-member-events
[2025-06-11T19:32:17.880Z] [LOG] ‚úÖ Loaded: member-list
[2025-06-11T19:32:17.882Z] [LOG] ‚úÖ Loaded: migrate-warnings
[2025-06-11T19:32:17.882Z] [LOG] ‚úÖ Loaded: nuke
[2025-06-11T19:32:17.883Z] [LOG] ‚úÖ Loaded: remove-redalert
[2025-06-11T19:32:17.884Z] [LOG] ‚úÖ Loaded: reset-staff-table
[2025-06-11T19:32:17.884Z] [LOG] ‚úÖ Loaded: roles-setup
[2025-06-11T19:32:17.885Z] [LOG] [INFO][Rules Manager] Server rules table created or already exists
[2025-06-11T19:32:17.886Z] [LOG] ‚úÖ Loaded: rules-manager
[2025-06-11T19:32:17.887Z] [LOG] ‚úÖ Loaded: server-cleanup
[2025-06-11T19:32:17.887Z] [LOG] ‚úÖ Loaded: server-setup
[2025-06-11T19:32:17.900Z] [LOG] ‚úÖ Loaded: set-weather-channel
[2025-06-11T19:32:17.901Z] [LOG] ‚úÖ Loaded: set-weather-schedule
[2025-06-11T19:32:17.902Z] [LOG] ‚úÖ Loaded: setup-logs
[2025-06-11T19:32:17.903Z] [LOG] ‚úÖ Loaded: setup-redalert
[2025-06-11T19:32:17.903Z] [LOG] ‚úÖ Loaded: ticket-setup-logs
[2025-06-11T19:32:17.905Z] [LOG] ‚úÖ Loaded: setup-wizard
[2025-06-11T19:32:17.906Z] [LOG] ‚úÖ Loaded: test-chatbot
[2025-06-11T19:32:17.907Z] [LOG] ‚úÖ Loaded: test-events
[2025-06-11T19:32:17.907Z] [LOG] ‚úÖ Loaded: test-logs
[2025-06-11T19:32:17.917Z] [LOG] ‚úÖ Loaded: test-verification
[2025-06-11T19:32:17.918Z] [LOG] ‚úÖ Loaded: ticket-add-user
[2025-06-11T19:32:17.919Z] [LOG] ‚úÖ Loaded: ticket-cleanup
[2025-06-11T19:32:17.919Z] [LOG] ‚úÖ Loaded: ticket-config
[2025-06-11T19:32:17.977Z] [LOG] ‚úÖ Loaded: ticket-debug
[2025-06-11T19:32:17.978Z] [LOG] ‚úÖ Loaded: ticket-logs
[2025-06-11T19:32:17.979Z] [LOG] ‚úÖ Loaded: ticket-priority
[2025-06-11T19:32:17.980Z] [LOG] ‚úÖ Loaded: ticket-remove-user
[2025-06-11T19:32:17.981Z] [LOG] ‚úÖ Loaded: toggle-ai-chatbot
[2025-06-11T19:32:17.982Z] [LOG] ‚úÖ Loaded: toggle-command-logging
[2025-06-11T19:32:17.987Z] [LOG] ‚úÖ Loaded: verification-setup
[2025-06-11T19:32:17.988Z] [LOG] ‚úÖ Loaded: verify-logs
[2025-06-11T19:32:17.989Z] [LOG] ‚úÖ Loaded: welcome-setup
[2025-06-11T19:32:17.990Z] [LOG] ‚úÖ Loaded: verify
[2025-06-11T19:32:17.991Z] [LOG] ‚úÖ Loaded: ban
[2025-06-11T19:32:17.992Z] [LOG] ‚úÖ Loaded: cases
[2025-06-11T19:32:17.993Z] [LOG] ‚úÖ Loaded: dm
[2025-06-11T19:32:17.994Z] [LOG] ‚úÖ Loaded: kick
[2025-06-11T19:32:17.994Z] [LOG] ‚úÖ Loaded: removewarn
[2025-06-11T19:32:17.995Z] [LOG] ‚úÖ Loaded: setlogchannel
[2025-06-11T19:32:17.997Z] [LOG] ‚úÖ Loaded: ticket-staff-message
[2025-06-11T19:32:17.998Z] [LOG] ‚úÖ Loaded: staff-stats
[2025-06-11T19:32:17.999Z] [LOG] ‚úÖ Loaded: ticket-rate
[2025-06-11T19:32:18.001Z] [LOG] ‚úÖ Loaded: ticket-status
[2025-06-11T19:32:18.002Z] [LOG] ‚úÖ Loaded: timeout
[2025-06-11T19:32:18.003Z] [LOG] ‚úÖ Loaded: warn
[2025-06-11T19:32:18.004Z] [LOG] ‚úÖ Loaded: warnings
[2025-06-11T19:32:18.006Z] [LOG] ‚úÖ Loaded: avatar
[2025-06-11T19:32:18.007Z] [LOG] ‚úÖ Loaded: dm-user
[2025-06-11T19:32:18.008Z] [LOG] ‚úÖ Loaded: help
[2025-06-11T19:32:18.008Z] [LOG] ‚úÖ Loaded: invite
[2025-06-11T19:32:18.009Z] [LOG] ‚úÖ Loaded: invites
[2025-06-11T19:32:18.010Z] [LOG] ‚úÖ Loaded: language
[2025-06-11T19:32:18.011Z] [LOG] ‚úÖ Loaded: quote
[2025-06-11T19:32:18.012Z] [LOG] ‚úÖ Loaded: serverinfo
[2025-06-11T19:32:18.013Z] [LOG] ‚úÖ Loaded: userinfo
[2025-06-11T19:32:18.014Z] [LOG] ‚úÖ Loaded: weather
[2025-06-11T19:32:18.014Z] [LOG] 
[2025-06-11T19:32:18.014Z] [LOG] üìù Found 65 commands to register
[2025-06-11T19:32:18.014Z] [LOG] 
[2025-06-11T19:32:18.014Z] [LOG] üßπ Clearing existing guild commands...
[2025-06-11T19:32:18.015Z] [LOG] [INFO][Migration] rules_channel_id column already exists in server_settings table
[2025-06-11T19:32:18.016Z] [LOG] [INFO][FAQ Manager] FAQ table created or already exists
[2025-06-11T19:32:18.016Z] [LOG] [INFO][Migration] templates column already exists in server_settings table
[2025-06-11T19:32:18.016Z] [LOG] [INFO][Migration] active_templates column already exists in server_settings table
[2025-06-11T19:32:18.017Z] [LOG] [INFO][Database Migration] weather_channel_id column already exists in server_settings table
[2025-06-11T19:32:18.017Z] [LOG] Connected to database
[2025-06-11T19:32:18.042Z] [LOG] [INFO][Migration] ticket_action_logs table migration completed successfully
[2025-06-11T19:32:18.043Z] [LOG] [INFO][Database Migration] Category column already exists in tickets table
[2025-06-11T19:32:18.043Z] [LOG] [INFO][Database Migration] ticket_categories table already exists
[2025-06-11T19:32:18.044Z] [LOG] [INFO][Migration] custom_cities column already exists in server_settings table
[2025-06-11T19:32:18.045Z] [LOG] [INFO][Migration] weather_schedule column already exists in server_settings table
[2025-06-11T19:32:18.046Z] [LOG] [INFO][Migration] log_channels table already exists
[2025-06-11T19:32:18.046Z] [LOG] [INFO][Migration] ticket_logs_channel_id column already exists in server_settings table
[2025-06-11T19:32:18.046Z] [LOG] Ticket categories migration completed successfully
[2025-06-11T19:32:18.046Z] [LOG] add-ticket-categories migration loaded
[2025-06-11T19:32:18.046Z] [LOG] add-custom-cities migration loaded
[2025-06-11T19:32:18.047Z] [LOG] add-weather-schedule migration loaded
[2025-06-11T19:32:18.047Z] [LOG] add-ticket-last-activity migration loaded
[2025-06-11T19:32:18.047Z] [LOG] add-ticket-case-number migration loaded
[2025-06-11T19:32:18.047Z] [LOG] add-soft-delete-column migration loaded
[2025-06-11T19:32:18.047Z] [LOG] fix-dm-logs-table migration loaded
[2025-06-11T19:32:18.047Z] [LOG] add-log-channels migration loaded
[2025-06-11T19:32:18.047Z] [LOG] [INFO][Migration] Completed log_channels table migration
[2025-06-11T19:32:18.047Z] [LOG] ensure-log-channels migration loaded
[2025-06-11T19:32:18.047Z] [LOG] [INFO][Migration] red_alert_channels column already exists in server_settings table
[2025-06-11T19:32:18.048Z] [LOG] Creating log_channels table...
[2025-06-11T19:32:18.048Z] [LOG] Created log_channels table
[2025-06-11T19:32:18.048Z] [LOG] [INFO][Database Migration] Log channels table migration completed successfully
[2025-06-11T19:32:18.048Z] [LOG] [INFO][Migration] Notes column already exists in tickets table
[2025-06-11T19:32:18.048Z] [LOG] [INFO][Database Migration] Ticket notes column migration completed successfully
[2025-06-11T19:32:18.048Z] [LOG] [INFO][Database Migration] Adding users table...
[2025-06-11T19:32:18.049Z] [LOG] [INFO][Database Migration] Users table already exists
[2025-06-11T19:32:18.049Z] [LOG] [INFO][Database Migration] Users table migration completed successfully
[2025-06-11T19:32:18.049Z] [LOG] [INFO][Migration] last_activity_at column already exists or could not be added
[2025-06-11T19:32:18.049Z] [LOG] [INFO][Migration] Status column exists, will use new status values in code
[2025-06-11T19:32:18.049Z] [LOG] [INFO][Migration] Created or verified ticket_action_logs table
[2025-06-11T19:32:18.049Z] [LOG] [INFO][Migration] Created or verified ticket_staff_activity table
[2025-06-11T19:32:18.049Z] [LOG] [INFO][Migration] Successfully completed ticket status migration
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Database Migration] Ticket status migration completed successfully
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Migration] last_activity_at column already exists in tickets table
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Migration] Successfully completed ticket last_activity migration
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Database Migration] Ticket last activity column migration completed successfully
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Migration] Successfully created ticket_staff_activity table
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Database Migration] Ticket staff activity table migration completed successfully
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Staff Activity Migration] ticket_staff_activity table already exists
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Staff Activity Migration] Migration completed successfully
[2025-06-11T19:32:18.050Z] [LOG] [INFO][Database Migration] Ticket staff activity table creation completed successfully
[2025-06-11T19:32:18.051Z] [LOG] [INFO][Migration] action_type column already exists in ticket_staff_activity table
[2025-06-11T19:32:18.051Z] [LOG] [INFO][Database Migration] Added action_type column to ticket_staff_activity table
[2025-06-11T19:32:18.051Z] [LOG] [INFO][Migration] Successfully created ticket_transcripts table
[2025-06-11T19:32:18.051Z] [LOG] [INFO][Database Migration] Ticket transcripts table migration completed successfully
[2025-06-11T19:32:18.051Z] [LOG] [INFO][Migration] case_number column already exists in tickets table
[2025-06-11T19:32:18.051Z] [LOG] [INFO][Migration] Successfully completed ticket case number migration
[2025-06-11T19:32:18.052Z] [LOG] [INFO][Database Migration] Ticket case number migration completed successfully
[2025-06-11T19:32:18.052Z] [LOG] [INFO][Migration] deleted column already exists in tickets table
[2025-06-11T19:32:18.052Z] [LOG] [INFO][Migration] Successfully completed soft delete migration
[2025-06-11T19:32:18.052Z] [LOG] [INFO][Database Migration] Ticket soft delete column migration completed successfully
[2025-06-11T19:32:18.052Z] [LOG] [INFO][Migration] dashboard_logs table already exists, checking and adding missing columns...
[2025-06-11T19:32:18.053Z] [LOG] [INFO][Database Migration] Dashboard logs table migration completed successfully
[2025-06-11T19:32:18.053Z] [LOG] [INFO][Migration] Current dm_logs columns: id, user_id, bot_id, content, embed_json, components_json, source_command, source_guild_id, created_at, guild_id, sender_id, recipient_id, command, success, error
[2025-06-11T19:32:18.053Z] [LOG] [INFO][Migration] Migrated data from source_guild_id to guild_id
[2025-06-11T19:32:18.053Z] [LOG] [INFO][Migration] Successfully completed dm_logs table migration
[2025-06-11T19:32:18.054Z] [LOG] [INFO][Database Migration] dm_logs table migration completed successfully
[2025-06-11T19:32:18.054Z] [LOG] [INFO][Migration] Creating dashboard_permissions table...
[2025-06-11T19:32:18.054Z] [LOG] [INFO][Migration] Dashboard permissions table created successfully
[2025-06-11T19:32:18.054Z] [LOG] [INFO][Database Migration] Dashboard permissions table migration completed successfully
[2025-06-11T19:32:18.054Z] [LOG] [INFO][Database] Database migrations completed successfully
[2025-06-11T19:32:18.054Z] [LOG] [INFO][Database] Migrations completed successfully
[2025-06-11T19:32:18.055Z] [LOG] [INFO][Database] Server settings updated with channel IDs
[2025-06-11T19:32:18.055Z] [LOG] [INFO][Migration] Current dm_logs columns: id, user_id, bot_id, content, embed_json, components_json, source_command, source_guild_id, created_at, guild_id, sender_id, recipient_id, command, success, error
[2025-06-11T19:32:18.056Z] [LOG] [INFO][Migration] Migrated data from source_guild_id to guild_id
[2025-06-11T19:32:18.056Z] [LOG] [INFO][Migration] Successfully completed dm_logs table migration
[2025-06-11T19:32:18.289Z] [ERROR] ‚ùå Error registering commands: {
  "requestBody": {
    "json": []
  },
  "rawError": {
    "message": "404: Not Found",
    "code": 0
  },
  "code": 0,
  "status": 404,
  "method": "PUT",
  "url": "https://discord.com/api/v10/applications/1368637479653216297/guilds//commands"
}
